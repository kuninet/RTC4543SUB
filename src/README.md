# サンプルアプリ

## RTC-4543SA用サンプル一覧

* 時計IC RTC-4543SAをPC-8001 N-BASICから操作するためのサンプルあぷりです。
* N-BASICのUSR関数(機械語サブルーチン)として動作します。

| ソース名 | 説明 |
| ---- | --- |
| RTC4543\_RD-YM2203.asm | RTC-4543SA日時読み出し機械語サブルーチン<br>(PC-8001 USR関数Call用) |
| RTC4543\_WR-YM2203.asm | RTC-4543SA日時書き込み機械語サブルーチン<br>(PC-8001 USR関数Call用) |
<br>
## 使い方

### 日時読み出し

```
10 CLEAR 300,&h9FFF
20 DEFUSR1=&hA100
30 AA$="yymmddYhhmmss"+""
40 DD$=USR1(AA$)
```

* DD$に、以下のフォーマットの文字列で日時が返ります。
    * yymmddYhhmmss ・・・ 13バイト

|  | 説明 |
| --- | --- |
| yy | 年(2000〜2099)の下2桁 |
| mm | 月(01〜12) |
| dd | 日(01〜31) |
| Y | 曜日(1=SUN、2=MON...7=SAT) |
| hh | 時(00〜23) |
| mm | 分(00〜59) |
| ss | 秒(00〜59) |

### 日時書き込み

```
10 CLEAR 300,&h9FFF
20 DEFUSR2=&hA000
30 AA$="202104107121359"+""  '2021年04月10日(土) 12:13:59
40 DD$=USR2(AA$)
```

* USR関数に、上記読み出しと同じ"yymmddYhhmmss"のフォーマットで指定して呼び出してください。
    * 戻り値はありません。

<br>
<br>
